{% extends 'master.html' %}
{% load static %}
{% block headertitle %}
<div class="" id="header-container">
  <a href="/admin/budo_app/auslagerorte/{{ort.id}}/change/">
    <h1>{{ ort }}</h1>
  </a>
</div>
{% endblock %}
{% block extrahead %}
{% include "components/mapheader.html" %}
{% endblock %}
{% block content %}
<div class="flex-container" id="body-container">
  <div class="detail-column" id="left-column">
    {% include "components/map.html" %}
  </div>
  <div class="detail-column" id="center-column">
    <div class="card" id="ort-detail-info">
      <div class="info-header-container">
        <h2>{{ ort }}</h2>{% include "components/openicon.html" %}
      </div>
      <div class="card-info-container">
        <p><span class="label">Name</span>: {{ ort.name }}</p>
        <p><span class="label">Beschreibung</span>: {{ ort.beschreibung }}</p>
        <p><span class="label">Koordinaten</span>: {{ ort.koordinaten }}</p>
        <p><span class="label">Google Maps Link</span>: <a href="{{ ort.maps_link }}">Link</a></p>
        <p><span class="label">Google Maps Link Parkspot</span>: <a href="{{ ort.maps_link_parkspot }}">Link</a></p>
        <p><span class="label">Koordinaten Parkspot</span>: {{ ort.koordinaten_parkspot }}</p>
        <p><span class="label">Stra√üe</span>: {{ ort.strasse }}</p>
        <p><span class="label">Stadt</span>: {{ ort.ort }}</p>
        <p><span class="label">Bundesland</span>: {{ ort.bundesland }}</p>
        <p><span class="label">Postleitzahl</span>: {{ ort.postleitzahl }}</p>
        <p><span class="label">Land</span>: {{ ort.land }}</p>
        <div class="button-container">
          <div class="form-buttons">
            <a href="{% url 'auslagerorte-update' pk=ort.pk %}" class="button">Ort bearbeiten</a>
          </div>
        </div>

        <div class="image-upload-form">
          <h3>Bilder hochladen</h3>
          <form method="post" enctype="multipart/form-data" action="{% url 'auslagerorte-image-upload' pk=ort.pk %}">
            {% csrf_token %}
            {{ form.images.label_tag }}
            {{ form.images }}
            <input type="submit" value="Bilder hochladen" class="button" />
          </form>
        </div>

      </div>
    </div>
  </div>
  <div class="detail-column" id="right-column">
    <div class="card" id="image-gallery">
      <div class="info-header-container">
        <h2>Bilder</h2>{% include "components/openicon.html" %}
      </div>
      <div class="card-info-container">
        {% for image in ort.images.all %}
        <img src="{{ image.image.url }}" alt="Image of {{ ort.name }}">
        {% endfor %}
      </div>
    </div>
  </div>
  {% endblock content %}